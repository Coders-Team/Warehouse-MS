@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@model IEnumerable<Warehouse_MS.Models.Product>

<a class="btn btn-primary" href="/products/create">Add A New Product</a>
<a class="btn btn-primary" asp-action="SortByWeight" asp-route-flag="true">Sort By Weight Ascending</a>
<a class="btn btn-primary" asp-action="SortByWeight" asp-route-flag="false">Sort By Weight Decending</a>
<a class="btn btn-primary" asp-action="SortByDate" asp-route-flag="true">Sort By Date Ascending</a>
<a class="btn btn-primary" asp-action="SortByDate" asp-route-flag="flase">Sort By Date Decending</a>
<a class="btn btn-primary" asp-action="SortByExpirationDate" asp-route-flag="true">Sort By Expiration Date Ascending</a>
<a class="btn btn-primary" asp-action="SortByExpirationDate" asp-route-flag="flase">Sort By Expiration Date Decending</a>
<a class="btn btn-primary" asp-action="SortBySize" asp-route-flag="true">Sort By Size Ascending</a>
<a class="btn btn-primary" asp-action="SortBySize" asp-route-flag="flase">Sort By Size Decending</a>




<label> Filter By Product Type</label>
<input type="text" id="productTypeInput" />

<button onclick="getProductType();"> Filter</button>



<label> Filter By Storage Type</label>
<input type="text" id="storageTypeInput" />

<button onclick="getStorageType();"> Filter</button>

<label> Packing on smaller pallet </label>

<label> ID </label>
<input type="text" id="IdInput" />

<label> New Weight</label>
<input type="text" id="NewWeightInput" />

<label> New size</label>
<input type="text" id="NewSizeInput" />


<button onclick="getPackingInfo();"> Pack</button>

<label> Search By Barcode</label>
<input type="text" id="barcodeInput" />


<button onclick="getBarcode();"> Search</button>


<script type="text/javascript">
    function getProductType() {
        var txt = document.getElementById('productTypeInput').value;

        location.replace("FilterByProductType?input=" + txt);

    }

    function getStorageType() {
        var txt = document.getElementById('storageTypeInput').value;

        location.replace("FilterByStorageType?input=" + txt);

    }

    function getPackingInfo() {
        var id = document.getElementById("IdInput").value;
        var newWeight = document.getElementById("NewWeightInput").value;
        var newSize = document.getElementById("NewSizeInput").value;

        location.replace("Packing?id=" + id + "&newWeight=" + newWeight + "&newSize=" + newSize);
    }

    function getBarcode() {

        let barcode = document.getElementById("barcodeInput").value;
        
        location.replace("GetByBarCode?barcode=" + barcode);
    }


</script>














@foreach (Product product in Model)
{


    <div class="card" style="width: 18rem;">
        <img src=@product.Photo class="card-img-top" alt="...">
        <div class="card-body">
            <h5 class="card-title">Name: @product.Name</h5>
            <p class="card-text">Weight: @product.Weight</p>
            <p class="card-text">Size: @product.SizeInUnit</p>
            <p class="card-text">Date: @product.Date</p>
            <p class="card-text"> Expiration Date: @product.ExpiredDate</p>
            <p class="card-text"> Barcode: @product.BarcodeNum</p>


            <a class="btn btn-primary" asp-action="Details" asp-route-id="@product.Id">Details</a>
            <a class="btn btn-primary" asp-action="Edit" asp-route-id="@product.Id">Edit</a>
            <a class="btn btn-primary" asp-action="DeleteProduct" asp-route-id="@product.Id">Delete</a>


        </div>

    </div>
}
